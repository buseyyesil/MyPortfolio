@model List<MyPortfolio.Models.TblAbout>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/AdminLayout/Layout.cshtml";
}

<h2>About Bilgileri</h2>
<br />

<table class="table table-bordered table-hover">
    <tr>
        <th>#</th>
        <th>Image</th>
        <th>Title</th>
        <th>Description</th>
        <th>CV</th>
        <th>İşlemler</th>
    </tr>

    @{int count = 0;}
    @foreach (var item in Model)
    {
        count++;
        <tr>
            <td>@count</td>
            <td>
                @if (!string.IsNullOrEmpty(item.ImageUrl))
                {
                    <img src="@item.ImageUrl" style="width: 80px; height: 80px; object-fit: cover;" class="rounded" />
                }
                else
                {
                    <span class="text-muted">Resim Yok</span>
                }
            </td>
            <td>@item.Title</td>
            <td>
                @if (item.Description.Length > 50)
                {
                    @item.Description.Substring(0, 50)@:...
                }
                else
                {
                    @item.Description
                }
            </td>
            <!-- Index.cshtml'de CV kısmını şu şekilde değiştir: -->

            <td>
                @if (!string.IsNullOrEmpty(item.CvUrl))
                {
                    <a href="@item.CvUrl" target="_blank" class="btn btn-outline-info btn-sm">
                        <i class="fa fa-download"></i> CV Görüntüle
                    </a>
                }
                else
                {
                    <span class="text-muted">CV Yok</span>
                }
            </td>
            <td>
                <a href="/About/Update/@item.AboutId" class="btn btn-outline-warning btn-sm">
                    <i class="fa fa-edit"></i> Düzenle
                </a>
                <a href="/About/Delete/@item.AboutId" class="btn btn-outline-danger btn-sm"
                   onclick="return confirm('Bu kaydı silmek istediğinizden emin misiniz?')">
                    <i class="fa fa-trash"></i> Sil
                </a>
            </td>
        </tr>
    }
</table>

@if (Model.Count == 0)
{
    <div class="alert alert-info">
        <p>Henüz About bilgisi bulunmuyor.</p>
        <p><small>Veritabanından manuel olarak ekleyebilirsiniz.</small></p>
    </div>
}